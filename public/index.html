<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honda Showroom</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        /* CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πà‡∏≤‡∏ß (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà) */
        .news-section {
            max-width: 1200px; /* ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å */
            margin: 40px auto; /* ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡πâ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á */
            padding: 0 20px;
        }

        .news-header {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            border-left: 5px solid #cc0000; /* ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏î‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏™‡∏ß‡∏¢ */
            padding-left: 15px;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        /* Class ‡∏ô‡∏µ‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÉ‡∏ô JavaScript ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì */
        .thump-news-picture {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .thump-news-picture:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .thump-news-picture img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .title-news {
            padding: 20px;
        }

        .title-news h3 {
            font-size: 18px;
            margin: 0 0 10px;
            line-height: 1.4;
            color: #333;
            height: 50px; /* ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
            overflow: hidden;
        }

        .title-news a {
            text-decoration: none;
            color: #cc0000;
            font-weight: bold;
            font-size: 14px;
        }
        
        .title-news a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="logo-link">
            <img src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Honda_Logo.svg" alt="Honda" class="logo-icon">
        </a>
        
        <div style="display:flex; gap:20px; align-items:center;">
            <a href="techno.html" class="nav-item" style="text-decoration: none;">
                <span style="font-size:18px;">‚öôÔ∏è ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ</span>
            </a>
            <a href="contact.html" class="nav-item" style="text-decoration: none;">
                <span style="font-size:18px;">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</span>
            </a>
            <div class="nav-item" onclick="openCompareModal()">
                <span style="font-size:18px;">‚öñÔ∏è ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ</span>
            </div>

            <div id="auth-section">
            </div>
        </div>
    </header>

    <div class="hero-slider" id="hero-slider"></div>

    <section class="news-section">
        <h2 class="news-header">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h2>
        <div id="news-container" class="news-grid">
            <p style="color:#888;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£...</p>
        </div>
    </section>

    <div class="container">
        <h1 class="page-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ‡∏Æ‡∏≠‡∏ô‡∏î‡πâ‡∏≤</h1>

        <div class="shop-layout">
            
            <aside class="sidebar">
                <div class="filter-box">
                    <h3>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà</h3>
                    
                    <div class="filter-group">
                        <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡∏ß‡∏ñ‡∏±‡∏á</label>
                        <select id="filter-body" onchange="applyFilters()">
                            <option value="all" selected>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (All)</option>
                            <option value="Sedan">Sedan</option>
                            <option value="Hatchback">Hatchback</option>
                            <option value="SUV">SUV</option>
                            <option value="MUV">MUV</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô</label>
                        <select id="filter-engine" onchange="applyFilters()">
                            <option value="all" selected>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (All)</option>
                            <option value="Turbo">VTEC Turbo</option>
                            <option value="e:HEV">Full Hybrid e:HEV</option>
                            <option value="EV">Electric (EV 100%)</option>
                        </select>
                    </div>

                    <button class="btn-reset" onclick="resetFilters()">‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                </div>
            </aside>

            <main class="car-content">
                <div class="car-grid" id="car-list">
                </div>
            </main>
        
        </div>
    </div>

    <div id="compare-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeCompareModal()">&times;</span>
            <h2>‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡πÄ‡∏õ‡∏Å‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</h2>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</p>
            
            <div class="compare-selectors">
                <div class="select-group">
                    <label>‡∏£‡∏ñ‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà 1</label>
                    <select id="select-car-1">
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ --</option>
                    </select>
                </div>

                <div style="font-weight:bold; font-size:24px; color:#cc0000;">VS</div>

                <div class="select-group">
                    <label>‡∏£‡∏ñ‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà 2</label>
                    <select id="select-car-2">
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ --</option>
                    </select>
                </div>
            </div>

            <button class="btn btn-order" style="width:100%; margin-top:20px; font-size:18px;" onclick="confirmCompare()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</button>
        </div>
    </div>

    <script>
        // --- 1. Global Variables ---
        let allCarsData = [];
        let currentSlide = 0;
        let slideInterval;

        // --- 2. Auth Logic ---
        function checkAuth() {
            const userStr = localStorage.getItem('user');
            const authSection = document.getElementById('auth-section');

            if (userStr) {
                // ‡∏ñ‡πâ‡∏≤ Login ‡πÅ‡∏•‡πâ‡∏ß
                const user = JSON.parse(userStr);
                authSection.innerHTML = `
                    <div class="user-info-area">
                        <a href="profile.html" class="link-profile">
                            <span class="user-name">üë§ ${user.fullname}</span>
                        </a>
                        <span style="color:#ddd;">|</span>
                        <button class="btn-logout" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                    </div>
                `;
            } else {
                // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Login
                authSection.innerHTML = `
                    <a href="login.html" class="btn-auth">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö / ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a>
                `;
            }
        }

        function logout() {
            Swal.fire({
                title: '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: '‡πÉ‡∏ä‡πà',
                cancelButtonText: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å'
            }).then((result) => {
                if (result.isConfirmed) {
                    // ‚úÖ ‡∏•‡∏ö Token ‡∏ó‡∏¥‡πâ‡∏á
                    localStorage.removeItem('token');
                    localStorage.removeItem('user'); 
                    
                    Swal.fire({
                        title: '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß',
                        icon: 'success',
                        timer: 1500,
                        showConfirmButton: false
                    }).then(() => {
                        window.location.href = 'index.html'; 
                    });
                }
            });
        }

        // --- 3. Data Fetching ---

        async function fetchCars() {
            try {
                const response = await fetch('/api/cars');
                allCarsData = await response.json();
                
                displayCars(allCarsData); 
                populateCompareDropdowns(allCarsData);

                document.getElementById('filter-body').value = 'all';
                document.getElementById('filter-engine').value = 'all';

            } catch (error) {
                console.error(error);
                document.getElementById('car-list').innerHTML = '<p style="text-align:center;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>';
            }
        }

        async function fetchBanners() {
            try {
                const response = await fetch('/api/banners');
                const banners = await response.json();
                const sliderContainer = document.getElementById('hero-slider');
                
                if (banners.length === 0) return;

                sliderContainer.innerHTML = ''; 

                banners.forEach((banner, index) => {
                    const slide = document.createElement('div');
                    slide.className = `slide ${index === 0 ? 'active' : ''}`;
                    slide.style.backgroundImage = `url('${banner.image_url}')`;
                    slide.innerHTML = `
                        <div class="slide-content">
                            <h2 class="slide-title">${banner.title}</h2>
                            <p class="slide-subtitle">${banner.subtitle}</p>
                            <button class="btn btn-order" style="padding: 10px 30px; font-size: 16px; margin-top:15px;">‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏û‡∏¥‡πÄ‡∏®‡∏©</button>
                        </div>
                    `;
                    sliderContainer.appendChild(slide);
                });

                startSlideShow();

            } catch (error) {
                console.error('Banner error:', error);
            }
        }

        // --- 4. News Logic (Load Honda News) ---
        async function loadNews() {
            try {
                const res = await fetch('/api/honda-news');
                const news = await res.json();
                
                const container = document.getElementById('news-container');
                container.innerHTML = ''; 

                if (news.length === 0) {
                    container.innerHTML = '<p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>';
                    return;
                }

                news.forEach(item => {
                    const html = `
                        <div class="thump-news-picture" onclick="window.open('${item.link}', '_blank')">
                            <img src="${item.image}" alt="${item.title}">
                            <div class="title-news">
                                <h3>${item.title}</h3>
                                <a href="${item.link}" target="_blank">‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° &rarr;</a>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            } catch (err) {
                console.error(err);
                document.getElementById('news-container').innerHTML = '<p>‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß‡πÑ‡∏î‡πâ</p>';
            }
        }

        // --- 5. UI Display Functions ---

        function displayCars(cars) {
            const container = document.getElementById('car-list');
            container.innerHTML = '';
            
            if(cars.length === 0) { 
                container.innerHTML = '<p style="text-align:center; width:100%; color:#b0b0b0; font-size:20px; margin-top:50px;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏ñ‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ô‡∏µ‡πâ</p>'; 
                return; 
            }

            cars.forEach(car => {
                let colorHtml = '<div class="color-options" style="height:25px;"></div>';
                if (car.colors && car.colors.length > 0) {
                    colorHtml = `<div class="color-options">`;
                    car.colors.forEach((c, i) => {
                        colorHtml += `<div class="color-dot ${i===0?'active':''}" style="background:${c.color_hex}" onclick="changeCarColor(this, 'img-${car.id}', '${c.image_url}')"></div>`;
                    });
                    colorHtml += `</div>`;
                }

                let engineClass = car.engine_system === 'e:HEV' ? 'ehev' : (car.engine_system === 'EV' ? 'ev' : 'turbo');

                container.innerHTML += `
                    <div class="car-card">
                        <div class="car-image-container">
                            <img id="img-${car.id}" src="${car.image_url}" alt="${car.model_name}">
                        </div>
                        <div class="car-info">
                            <div class="badges">
                                <span class="badge body">${car.body_type}</span>
                                <span class="badge ${engineClass}">${car.engine_system}</span>
                            </div>
                            
                            <h2 class="car-model">${car.model_name}</h2>
                            
                            ${colorHtml}
                            
                            <div class="car-price">${new Intl.NumberFormat('th-TH').format(car.price)} ‡∏ö‡∏≤‡∏ó</div>
                        </div>
                        
                        <div class="action-buttons">
                            <a href="detail.html?id=${car.id}" class="btn btn-detail">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
                            <button class="btn btn-order" onclick="goToDetail('${car.id}')">‡∏à‡∏≠‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</button>
                        </div>
                    </div>`;
            });
        }

        function changeCarColor(dot, imgId, url) {
            const img = document.getElementById(imgId);
            img.style.opacity = 0.5;
            setTimeout(() => { img.src = url; img.style.opacity = 1; }, 200);
            dot.parentElement.querySelectorAll('.color-dot').forEach(d => d.classList.remove('active'));
            dot.classList.add('active');
        }

        function goToDetail(id) {
            window.location.href = `detail.html?id=${id}`;
        }

        // --- 6. Filtering Logic ---

        function applyFilters() {
            const bodyVal = document.getElementById('filter-body').value;
            const engineVal = document.getElementById('filter-engine').value;

            const filtered = allCarsData.filter(car => {
                const matchBody = (bodyVal === 'all') || (car.body_type === bodyVal);
                const matchEngine = (engineVal === 'all') || (car.engine_system === engineVal);
                return matchBody && matchEngine;
            });

            displayCars(filtered);
        }

        function resetFilters() {
            document.getElementById('filter-body').value = 'all';
            document.getElementById('filter-engine').value = 'all';
            displayCars(allCarsData);
        }

        // --- 7. Comparison Modal Logic ---

        function populateCompareDropdowns(cars) {
            const select1 = document.getElementById('select-car-1');
            const select2 = document.getElementById('select-car-2');
            
            select1.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ --</option>';
            select2.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ --</option>';

            cars.forEach(car => {
                const option = `<option value="${car.id}">${car.model_name}</option>`;
                select1.innerHTML += option;
                select2.innerHTML += option;
            });
        }

        function openCompareModal() {
            document.getElementById('compare-modal').style.display = 'flex';
        }

        function closeCompareModal() {
            document.getElementById('compare-modal').style.display = 'none';
        }

        function confirmCompare() {
            const id1 = document.getElementById('select-car-1').value;
            const id2 = document.getElementById('select-car-2').value;

            if (!id1 || !id2) {
                Swal.fire('‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á 2 ‡∏£‡∏∏‡πà‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö', 'warning');
                return;
            }
            if (id1 === id2) {
                Swal.fire('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏ã‡πâ‡∏≥', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö', 'warning');
                return;
            }
            window.location.href = `compare.html?ids=${id1},${id2}`;
        }

        window.onclick = function(event) {
            const modal = document.getElementById('compare-modal');
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // --- 8. Slider Logic ---

        function startSlideShow() {
            if (slideInterval) clearInterval(slideInterval);
            slideInterval = setInterval(() => {
                const slides = document.querySelectorAll('.slide');
                if (slides.length === 0) return;

                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 4000);
        }

        async function updateVisitorCount() {
    try {
        const res = await fetch('/api/visit-count');
        const data = await res.json();
        
        // ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≥ (‡πÄ‡∏ä‡πà‡∏ô 1,234)
        document.getElementById('visit-count').innerText = data.total_visits.toLocaleString();
        
        // (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏£‡∏¥‡∏°) ‡πÅ‡∏≠‡∏ö‡∏î‡∏π‡πÉ‡∏ô Console ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤ IP ‡∏≠‡∏∞‡πÑ‡∏£
        console.log('Your IP:', data.your_ip);
        
    } catch (err) {
        console.error('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏¢‡∏≠‡∏î‡∏ß‡∏¥‡∏ß‡πÑ‡∏î‡πâ', err);
    }
}

// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
document.addEventListener('DOMContentLoaded', updateVisitorCount);

        // --- 9. Initialize ---
        checkAuth(); 
        fetchBanners();
        loadNews(); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß‡∏î‡πâ‡∏ß‡∏¢
        fetchCars();

    </script>
    <div class="visitor-counter">
    <span>üëÄ ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏´‡∏ô‡πâ‡∏≤: <strong id="visit-count">...</strong> ‡∏Ñ‡∏ô</span>
</div>
</body>
</html>