<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå | Honda</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="detailstyle.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

    <header>
        <a href="index.html" class="logo-link">
            <img src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Honda_Logo.svg" alt="Honda" class="logo-icon">
        </a>
        <a href="index.html" class="nav-menu" style="text-decoration:none; display:flex; align-items:center; gap:5px;">
            <span>‚Üê</span> ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
        </a>
    </header>

    <div id="loading" style="text-align:center; margin-top:100px; font-size:18px; color:#666;">
        ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...
    </div>
    
    <div class="detail-wrapper">
        <div class="detail-card" id="product-content" style="display:none;">
            
            <div class="product-image-section">
                <img id="main-car-img" src="" alt="Car Image">
            </div>

            <div class="product-info-section">
                
                <div class="tags">
                    <span class="tag body" id="spec-body">-</span>
                    <span class="tag engine" id="spec-engine">-</span>
                </div>

                <h1 class="product-title" id="car-name">Loading...</h1>
                <p class="product-slogan" id="car-desc">...</p>
                <button class="btn-calc-toggle" onclick="toggleCalculator()">
    üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î / ‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞
</button>

<div id="calculator-box" class="calculator-box" style="display: none;">
    
    <div class="calc-grid">
        <div class="form-group">
            <label>‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå (%)</label>
            <select id="calc-down" onchange="calculateLoan()">
                <option value="0.15">15%</option>
                <option value="0.20">20%</option>
                <option value="0.25" selected>25%</option>
                <option value="0.30">30%</option>
            </select>
            <div id="down-amount-display" style="font-size:12px; color:#cc0000; margin-top:2px;">-</div>
        </div>

        <div class="form-group">
            <label>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏õ‡∏µ)</label>
            <select id="calc-years" onchange="calculateLoan()">
                <option value="48">4 ‡∏õ‡∏µ (48 ‡∏á‡∏ß‡∏î)</option>
                <option value="60" selected>5 ‡∏õ‡∏µ (60 ‡∏á‡∏ß‡∏î)</option>
                <option value="72">6 ‡∏õ‡∏µ (72 ‡∏á‡∏ß‡∏î)</option>
                <option value="84">7 ‡∏õ‡∏µ (84 ‡∏á‡∏ß‡∏î)</option>
            </select>
        </div>

    </div>

    <div class="calc-result">
        <div class="monthly-payment-box">
            <span>‡∏ú‡πà‡∏≠‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞</span>
            <span id="monthly-val" class="big-number">0</span>
            <span>‡∏ö‡∏≤‡∏ó</span>
        </div>
    </div>
</div>
                <div class="price-tag" id="car-price">-</div>

                <div class="specs-grid" id="specs-grid">
                    <div class="spec-item">
                        <small>‡πÅ‡∏£‡∏á‡∏°‡πâ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</small>
                        <strong id="hp-val">-</strong>
                    </div>
                    <div class="spec-item">
                        <small>‡πÅ‡∏£‡∏á‡∏ö‡∏¥‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</small>
                        <strong id="torque-val">-</strong>
                    </div>
                    <div class="spec-item">
                        <small>‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á</small>
                        <strong id="fuel-val">-</strong>
                    </div>
                </div>

                <div class="color-selector">
                    <div class="color-label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å: <span id="color-name-display" style="color:#000; font-weight:600;">-</span></div>
                    <div id="color-options-container" class="color-options">
                        </div>
                </div>

                <button class="btn-main" onclick="openTestDriveModal()">‡∏à‡∏≠‡∏á Test Drive</button>
            </div>
        </div>
    </div>

    <div id="testDriveModal" class="modal-overlay">
        <div class="modal-box">
            <h3>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô Test Drive</h3>
            
            <div class="form-group">
                <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                <input type="text" id="td-name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
            </div>
            
            <div class="form-group">
                <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                <input type="tel" id="td-phone" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠">
            </div>
            
            <div class="form-group">
                <label>‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å</label>
                <select id="td-branch" onchange="updateBranchMap()">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤ --</option>
                </select>
                
                <div class="map-container" id="map-wrapper">
                    <span style="font-size:14px;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</span>
                </div>
            </div>
            
            <div class="form-group">
                <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢</label>
                <input type="date" id="td-date">
            </div>

            <div class="form-group">
                <label>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å</label>
                <select id="td-time">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤ --</option>
                    <option value="09:00">09:00</option>
                    <option value="10:00">10:00</option>
                    <option value="11:00">11:00</option>
                    <option value="13:00">13:00</option>
                    <option value="14:00">14:00</option>
                    <option value="15:00">15:00</option>
                    <option value="16:00">16:00</option>
                </select>
            </div>
            
            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeTestDriveModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn-confirm" onclick="submitTestDrive()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>
            </div>
        </div>
    </div>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const carId = urlParams.get('id');
    let currentCarData = null;

    async function loadCarDetail() {
        if(!carId) {
            alert('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå');
            window.location.href = 'index.html';
            return;
        }

        try {
            const res = await fetch(`/api/cars/${carId}`);
            if(!res.ok) throw new Error('Car not found');
            
            const car = await res.json();
            currentCarData = car;
            renderPage(car);
            
            loadBranches();

        } catch (err) {
            alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ: ' + err.message);
            document.getElementById('loading').innerText = '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á';
        }
    }

    async function loadBranches() {
        try {
            const res = await fetch('/api/branches');
            const branches = await res.json();
            const select = document.getElementById('td-branch');
            
            select.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤ --</option>';
            
            branches.forEach(b => {
                const option = document.createElement('option');
                const branchName = b.branch_name || b.name; 
                option.value = branchName; 
                option.innerText = branchName;
                select.appendChild(option);
            });
        } catch(err) {
            alert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤‡πÑ‡∏î‡πâ: ' + err.message);
        }
    }

    function updateBranchMap() {
        const branchName = document.getElementById('td-branch').value;
        const mapWrapper = document.getElementById('map-wrapper');

        if (branchName) {
            const query = encodeURIComponent('‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Æ‡∏≠‡∏ô‡∏î‡πâ‡∏≤ ' + branchName);
            mapWrapper.innerHTML = `
                <iframe 
                    width="100%" height="100%" frameborder="0" style="border:0"
                    src="https://maps.google.com/maps?q=${query}&t=&z=15&ie=UTF8&iwloc=&output=embed">
                </iframe>
            `;
        } else {
            mapWrapper.innerHTML = '<span style="font-size:14px;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</span>';
        }
    }

    function renderPage(car) {
        document.getElementById('loading').style.display = 'none';
        document.getElementById('product-content').style.display = 'grid';

        document.getElementById('main-car-img').src = car.image_url;
        document.getElementById('car-name').innerText = car.model_name;
        document.getElementById('car-desc').innerText = car.description;
        document.getElementById('car-price').innerText = new Intl.NumberFormat('th-TH').format(car.price) + ' ‡∏ö‡∏≤‡∏ó';
        
        document.getElementById('spec-body').innerText = car.body_type;
        const engineTag = document.getElementById('spec-engine');
        engineTag.innerText = car.engine_system;
        if(car.engine_system === 'e:HEV') engineTag.classList.add('ehev');
        if(car.engine_system === 'EV') engineTag.classList.add('ev');

        document.getElementById('hp-val').innerText = (car.horsepower ? car.horsepower + ' PS' : '-');
        document.getElementById('torque-val').innerText = (car.torque ? car.torque + ' Nm' : '-');
        document.getElementById('fuel-val').innerText = (car.consumption || '-');

        const colorContainer = document.getElementById('color-options-container');
        colorContainer.innerHTML = '';

        if (car.colors && car.colors.length > 0) {
            changeColorImage(car.colors[0].image_url, car.colors[0].color_name);

            car.colors.forEach((color, index) => {
                const dot = document.createElement('div');
                dot.className = `big-dot ${index === 0 ? 'active' : ''}`;
                dot.style.backgroundColor = color.color_hex;
                dot.title = color.color_name;
                
                dot.onclick = () => {
                    changeColorImage(color.image_url, color.color_name);
                    document.querySelectorAll('.big-dot').forEach(d => d.classList.remove('active'));
                    dot.classList.add('active');
                };
                colorContainer.appendChild(dot);
            });
        } else {
            document.getElementById('color-name-display').innerText = '‡∏™‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô';
        }
    }

    function changeColorImage(url, colorName) {
        const img = document.getElementById('main-car-img');
        img.style.opacity = 0;
        img.style.transform = 'scale(0.95)';

        setTimeout(() => {
            img.src = url;
            img.style.opacity = 1;
            img.style.transform = 'scale(1)';
        }, 200);
        
        if(colorName) document.getElementById('color-name-display').innerText = colorName;
    }

    function openTestDriveModal() {
         const token = localStorage.getItem('token');
         if(!token) {
            alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏≠‡∏á'); window.location.href='login.html'; return;
         }

        document.getElementById('testDriveModal').style.display = 'flex';
        
        // ‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ñ‡πâ‡∏≤ Login ‡πÅ‡∏•‡πâ‡∏ß
        const userStr = localStorage.getItem('user');
        if(userStr) {
            const user = JSON.parse(userStr);
            if(!document.getElementById('td-name').value) document.getElementById('td-name').value = user.fullname;
            if(!document.getElementById('td-phone').value) document.getElementById('td-phone').value = user.phone; // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡πÉ‡∏ô user object ‡∏°‡∏µ phone
        }
    }

    function closeTestDriveModal() {
        document.getElementById('testDriveModal').style.display = 'none';
    }

    // [‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç] ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö onclick ‡πÉ‡∏ô HTML (submitBooking -> submitTestDrive)
    async function submitTestDrive() {
    const token = localStorage.getItem('token');
    
    if (!token) {
        Swal.fire({
            icon: 'info',
            title: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö',
            text: '‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á Login ‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏à‡∏≠‡∏á‡∏£‡∏ñ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö',
            confirmButtonText: '‡πÑ‡∏õ Login'
        }).then((result) => {
            if(result.isConfirmed) window.location.href = 'login.html';
        });
        return;
    }

    // ... (‡πÇ‡∏Ñ‡πâ‡∏î‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Input ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...
    const bookingData = {
        customer_name: document.getElementById('td-name').value,
        phone: document.getElementById('td-phone').value,
        branch_name: document.getElementById('td-branch').value,
        appointment_date: document.getElementById('td-date').value,
        appointment_time: document.getElementById('td-time').value,
        car_model: document.getElementById('car-name').innerText 
    };

    if(!bookingData.branch_name || !bookingData.appointment_date || !bookingData.appointment_time) {
        Swal.fire('‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤', 'warning');
        return;
    }

    try {
        const res = await fetch('/api/test-drive', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer ' + token
            },
            body: JSON.stringify(bookingData)
        });

        if (res.status === 401 || res.status === 403) {
            Swal.fire('Session ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤ Login ‡πÉ‡∏´‡∏°‡πà', 'error')
                .then(() => window.location.href = 'login.html');
            return;
        }

        const result = await res.json();

        if (res.ok) {
            // ‚úÖ ‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
            closeTestDriveModal(); // ‡∏õ‡∏¥‡∏î Modal ‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡πà‡∏≠‡∏ô
            Swal.fire({
                icon: 'success',
                title: '‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                text: '‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß',
                confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
            });
        } else {
            Swal.fire('‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', result.message || '‡∏à‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'error');
        }
    } catch (err) {
        Swal.fire('Error', err.message, 'error');
    }
}
// --- 1. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç ---
        function toggleCalculator() {
            const box = document.getElementById('calculator-box');
            const btn = document.querySelector('.btn-calc-toggle');
            
            if (box.style.display === 'none') {
                box.style.display = 'block'; // ‡πÅ‡∏™‡∏î‡∏á
                calculateLoan(); // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î
                btn.innerHTML = 'üßÆ ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç'; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏∏‡πà‡∏°
            } else {
                box.style.display = 'none'; // ‡∏ã‡πà‡∏≠‡∏ô
                btn.innerHTML = 'üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î / ‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞'; // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏∏‡πà‡∏°
            }
        }
function calculateLoan() {
            if (!currentCarData) return;
            const carPrice = currentCarData.price;
            const downPercent = parseFloat(document.getElementById('calc-down').value);
            const months = parseInt(document.getElementById('calc-years').value);
            const interestRate = 2.59; // Fixed Rate (‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å input ‡∏Å‡πá‡πÑ‡∏î‡πâ)

            const downAmount = carPrice * downPercent;
            const financeAmount = carPrice - downAmount;
            const years = months / 12;
            const totalInterest = financeAmount * (interestRate / 100) * years;
            const totalAmount = financeAmount + totalInterest;
            const monthlyPayment = totalAmount / months;

            document.getElementById('down-amount-display').innerText = `(‡∏î‡∏≤‡∏ß‡∏ô‡πå ${new Intl.NumberFormat('th-TH').format(downAmount)} ‡∏ö.)`;
            document.getElementById('monthly-val').innerText = new Intl.NumberFormat('th-TH').format(Math.ceil(monthlyPayment));
        }
    loadCarDetail();
</script>
</body>
</html>